(()=>{"use strict";var e={208:(e,n,t)=>{t.d(n,{A:()=>s});var a=t(354),r=t.n(a),i=t(314),o=t.n(i)()(r());o.push([e.id,':root {\n  --gridSize: 25px;\n}\n\n::selection {\n  color: none;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  background-color: rgb(150, 187, 233);\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n\nheader {\n  text-align: center;\n  font-size: 3em;\n  font-weight: bold;\n  padding: 20px 0;\n  border-bottom: 2px solid black;\n}\n\nmain {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n}\n\n.gamemode {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 1.2rem;\n}\n\n.gamemode button {\n  padding: 5px 0;\n  font-size: 1.2rem;\n  position: relative;\n}\n\n.gamemode button:disabled::after {\n  z-index: 1;\n  position: absolute;\n  width: max-content;\n  left: 120px;\n  rotate: -15deg;\n  content: "Under Construction";\n  color: yellow;\n  font-size: 1.5rem;\n}\n\n.startForm {\n  text-align: center;\n}\n\n.startForm > div {\n  margin: 10px 0;\n}\n\n.startForm label {\n  font-size: 1.5rem;\n}\n\n.startForm input {\n  font-size: 1.2rem;\n  padding: 5px;\n}\n\n.formBtns,\n.shipPlacementBtns {\n  display: flex;\n  width: 100%;\n  gap: 5px;\n}\n\n.formBtns button,\n.shipPlacementBtns button {\n  flex: 1;\n  padding: 10px 0;\n  font-size: 1.2rem;\n}\n\n.game,\n.shipPreview {\n  flex: 0;\n  display: flex;\n  gap: 5px;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  font-size: calc(var(--gridSize) * 0.8);\n}\n\n.shipsContainer {\n  border: 1px solid black;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.2);\n  padding: 10px;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 20px;\n}\n\n.dragableShip {\n  cursor: pointer;\n  background-color: black;\n  box-shadow: 3px 3px 10px rgb(0, 0, 0);\n  display: grid;\n  width: max-content;\n  height: max-content;\n  gap: 2px;\n  padding: 2px;\n  grid-auto-flow: column;\n  grid-auto-columns: var(--gridSize);\n  grid-auto-rows: var(--gridSize);\n}\n\n.dragableShip.vertical {\n  grid-auto-flow: row;\n}\n\n.dragableShipSpace {\n  background-color: grey;\n}\n\n.privacyScreen {\n  text-align: center;\n}\n\n.privacyScreen > * {\n  margin: 20px 0;\n}\n\n.privacyScreen > button {\n  width: 100%;\n  padding: 5px;\n  font-size: 2rem;\n}\n\n.gameOverMenu {\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n}\n\n.endGameBtn {\n  font-size: 1em;\n  padding: 5px;\n}\n\n.playerContainer {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n}\n\n.boardShips > h3 {\n  text-decoration: underline;\n  margin-bottom: 10px;\n}\n\n.boardShipNames {\n  font-size: 0.9em;\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 10px;\n}\n\n.board {\n  background-color: black;\n  box-shadow: 3px 3px 10px rgb(0, 0, 0);\n  display: grid;\n  width: max-content;\n  gap: 2px;\n  grid-auto-flow: row;\n  grid-template-columns: repeat(11, var(--gridSize));\n  grid-auto-rows: var(--gridSize);\n}\n\n.board > div {\n  background-color: white;\n}\n\n.boardBtn {\n  appearance: none;\n}\n\n.boardBtn:hover:after {\n  display: block;\n  text-align: center;\n  content: "X";\n}\n\n.boardSpace.ship {\n  background-color: grey;\n}\n\n.boardSpace.hit {\n  background-color: yellow;\n}\n\n.boardSpace.ship.hit {\n  background-color: red;\n}\n\n.boardLabel {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,gBAAgB;AAClB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,sBAAsB;EACtB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,oCAAoC;EACpC,aAAa;EACb,sBAAsB;EACtB,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,iBAAiB;EACjB,eAAe;EACf,8BAA8B;AAChC;;AAEA;EACE,OAAO;EACP,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,aAAa;AACf;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,kBAAkB;EAClB,kBAAkB;EAClB,WAAW;EACX,cAAc;EACd,6BAA6B;EAC7B,aAAa;EACb,iBAAiB;AACnB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB,YAAY;AACd;;AAEA;;EAEE,aAAa;EACb,WAAW;EACX,QAAQ;AACV;;AAEA;;EAEE,OAAO;EACP,eAAe;EACf,iBAAiB;AACnB;;AAEA;;EAEE,OAAO;EACP,aAAa;EACb,QAAQ;EACR,sBAAsB;EACtB,mBAAmB;EACnB,kBAAkB;EAClB,sCAAsC;AACxC;;AAEA;EACE,uBAAuB;EACvB,mBAAmB;EACnB,oCAAoC;EACpC,aAAa;EACb,WAAW;EACX,aAAa;EACb,eAAe;EACf,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,eAAe;EACf,uBAAuB;EACvB,qCAAqC;EACrC,aAAa;EACb,kBAAkB;EAClB,mBAAmB;EACnB,QAAQ;EACR,YAAY;EACZ,sBAAsB;EACtB,kCAAkC;EAClC,+BAA+B;AACjC;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,WAAW;EACX,aAAa;EACb,6BAA6B;AAC/B;;AAEA;EACE,cAAc;EACd,YAAY;AACd;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,SAAS;AACX;;AAEA;EACE,0BAA0B;EAC1B,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,WAAW;EACX,aAAa;EACb,eAAe;EACf,uBAAuB;EACvB,SAAS;AACX;;AAEA;EACE,uBAAuB;EACvB,qCAAqC;EACrC,aAAa;EACb,kBAAkB;EAClB,QAAQ;EACR,mBAAmB;EACnB,kDAAkD;EAClD,+BAA+B;AACjC;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,sBAAsB;AACxB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB",sourcesContent:[':root {\r\n  --gridSize: 25px;\r\n}\r\n\r\n::selection {\r\n  color: none;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\nbody {\r\n  background-color: rgb(150, 187, 233);\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n}\r\n\r\nheader {\r\n  text-align: center;\r\n  font-size: 3em;\r\n  font-weight: bold;\r\n  padding: 20px 0;\r\n  border-bottom: 2px solid black;\r\n}\r\n\r\nmain {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 20px;\r\n}\r\n\r\n.gamemode {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.gamemode button {\r\n  padding: 5px 0;\r\n  font-size: 1.2rem;\r\n  position: relative;\r\n}\r\n\r\n.gamemode button:disabled::after {\r\n  z-index: 1;\r\n  position: absolute;\r\n  width: max-content;\r\n  left: 120px;\r\n  rotate: -15deg;\r\n  content: "Under Construction";\r\n  color: yellow;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.startForm {\r\n  text-align: center;\r\n}\r\n\r\n.startForm > div {\r\n  margin: 10px 0;\r\n}\r\n\r\n.startForm label {\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.startForm input {\r\n  font-size: 1.2rem;\r\n  padding: 5px;\r\n}\r\n\r\n.formBtns,\r\n.shipPlacementBtns {\r\n  display: flex;\r\n  width: 100%;\r\n  gap: 5px;\r\n}\r\n\r\n.formBtns button,\r\n.shipPlacementBtns button {\r\n  flex: 1;\r\n  padding: 10px 0;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.game,\r\n.shipPreview {\r\n  flex: 0;\r\n  display: flex;\r\n  gap: 5px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n  font-size: calc(var(--gridSize) * 0.8);\r\n}\r\n\r\n.shipsContainer {\r\n  border: 1px solid black;\r\n  border-radius: 10px;\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n  padding: 10px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n\r\n.dragableShip {\r\n  cursor: pointer;\r\n  background-color: black;\r\n  box-shadow: 3px 3px 10px rgb(0, 0, 0);\r\n  display: grid;\r\n  width: max-content;\r\n  height: max-content;\r\n  gap: 2px;\r\n  padding: 2px;\r\n  grid-auto-flow: column;\r\n  grid-auto-columns: var(--gridSize);\r\n  grid-auto-rows: var(--gridSize);\r\n}\r\n\r\n.dragableShip.vertical {\r\n  grid-auto-flow: row;\r\n}\r\n\r\n.dragableShipSpace {\r\n  background-color: grey;\r\n}\r\n\r\n.privacyScreen {\r\n  text-align: center;\r\n}\r\n\r\n.privacyScreen > * {\r\n  margin: 20px 0;\r\n}\r\n\r\n.privacyScreen > button {\r\n  width: 100%;\r\n  padding: 5px;\r\n  font-size: 2rem;\r\n}\r\n\r\n.gameOverMenu {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n}\r\n\r\n.endGameBtn {\r\n  font-size: 1em;\r\n  padding: 5px;\r\n}\r\n\r\n.playerContainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.boardShips > h3 {\r\n  text-decoration: underline;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.boardShipNames {\r\n  font-size: 0.9em;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 10px;\r\n}\r\n\r\n.board {\r\n  background-color: black;\r\n  box-shadow: 3px 3px 10px rgb(0, 0, 0);\r\n  display: grid;\r\n  width: max-content;\r\n  gap: 2px;\r\n  grid-auto-flow: row;\r\n  grid-template-columns: repeat(11, var(--gridSize));\r\n  grid-auto-rows: var(--gridSize);\r\n}\r\n\r\n.board > div {\r\n  background-color: white;\r\n}\r\n\r\n.boardBtn {\r\n  appearance: none;\r\n}\r\n\r\n.boardBtn:hover:after {\r\n  display: block;\r\n  text-align: center;\r\n  content: "X";\r\n}\r\n\r\n.boardSpace.ship {\r\n  background-color: grey;\r\n}\r\n\r\n.boardSpace.hit {\r\n  background-color: yellow;\r\n}\r\n\r\n.boardSpace.ship.hit {\r\n  background-color: red;\r\n}\r\n\r\n.boardLabel {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n'],sourceRoot:""}]);const s=o},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",a=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),a&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),a&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,a,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&o[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),n.push(d))}},n}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),i="/*# ".concat(r," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function t(e){for(var t=-1,a=0;a<n.length;a++)if(n[a].identifier===e){t=a;break}return t}function a(e,a){for(var i={},o=[],s=0;s<e.length;s++){var l=e[s],c=a.base?l[0]+a.base:l[0],d=i[c]||0,p="".concat(c," ").concat(d);i[c]=d+1;var m=t(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)n[m].references++,n[m].updater(h);else{var A=r(h,a);a.byIndex=s,n.splice(s,0,{identifier:p,updater:A,references:1})}o.push(p)}return o}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var i=a(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=t(i[o]);n[s].references--}for(var l=a(e,r),c=0;c<i.length;c++){var d=t(i[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}i=l}}},659:e=>{var n={};e.exports=function(e,t){var a=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var a="";t.supports&&(a+="@supports (".concat(t.supports,") {")),t.media&&(a+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(a+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),a+=t.css,r&&(a+="}"),t.media&&(a+="}"),t.supports&&(a+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(a,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(a){var r=n[a];if(void 0!==r)return r.exports;var i=n[a]={id:a,exports:{}};return e[a](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{var e=t(72),n=t.n(e),a=t(825),r=t.n(a),i=t(659),o=t.n(i),s=t(56),l=t.n(s),c=t(540),d=t.n(c),p=t(113),m=t.n(p),h=t(208),A={};A.styleTagTransform=m(),A.setAttributes=l(),A.insert=o().bind(null,"head"),A.domAPI=r(),A.insertStyleElement=d(),n()(h.A,A),h.A&&h.A.locals&&h.A.locals;class u{ship=null;isHit=!1}class E{#e=10;#n;#t=[];constructor(){this.#a()}get board(){return this.#n}#a(){this.#n=[];for(let e=0;e<this.#e*this.#e;e++)this.#n.push(new u)}#r(e,n){return e<0||e>=this.#e||n<0||n>this.#e?null:e*this.#e+n}placeShip(e,n){let[t,a]=n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=[];for(let n=0;n<e.shipLength;n++)if(r?i.push(a+n>9?null:this.#r(t,a+n)):i.push(this.#r(t+n,a)),null===i[n]||null!==this.#n[i[n]].ship)return!1;return i.forEach((n=>{this.#n[n].ship=e})),this.#t.push(e),!0}receiveAttack(e){let[n,t]=e;const a=this.#r(n,t);if(null===a||this.#n[a].isHit)return null;let r="miss";const i=this.#n[a];return i.isHit=!0,i.ship&&(i.ship.hit(),r=i.ship.isSunk()?"sunk":"hit"),r}allShipsSunk(){return this.#t.reduce(((e,n)=>e&&n.isSunk()),!0)}}class g{#i;#o;#s=0;constructor(e,n){if(n<1||!Number.isInteger(n))throw new Error("Ship constructor requires a length that is an integer greater than zero.");this.#i=e,this.#o=n}get name(){return this.#i}get shipLength(){return this.#o}hit(){return++this.#s}isSunk(){return this.#s>=this.#o}}class C{#i;#n=new E;#t=[{ship:new g("Carrier",5),location:null,isHorizontal:!0},{ship:new g("Battleship",4),location:null,isHorizontal:!0},{ship:new g("Destroyer",3),location:null,isHorizontal:!0},{ship:new g("Submarine",3),location:null,isHorizontal:!0},{ship:new g("Patrol Boat",2),location:null,isHorizontal:!0}];#l=!1;constructor(e){this.#i=e}get board(){return this.#l?this.#n.board:this.#c()}get name(){return this.#i}get ships(){return[...this.#t]}get shipsConfirmed(){return this.#l}#d(){let e=!0;const n=new E;return this.#t.forEach((t=>{let{ship:a,location:r,isHorizontal:i}=t;e=!!r&&e&&n.placeShip(a,r,i)})),e}#c(){const e=new E;return this.#t.forEach((n=>{let{ship:t,location:a,isHorizontal:r}=n;a&&e.placeShip(t,a,r)})),[...e.board]}setShipLocation(e,n,t){if(this.#l)return!1;const a=this.#t.map((a=>{let{ship:r,location:i,isHorizontal:o}=a;return r.name===e&&(i=n,o=t),{ship:r,location:i,isHorizontal:o}})),r=new E;let i=!0;return a.forEach((e=>{let{ship:n,location:t,isHorizontal:a}=e;t&&(i=i&&r.placeShip(n,t,a))})),i&&(this.#t=a),i}clearShipLocations(){return!this.#l&&(this.#t.forEach((e=>{e.location=null,e.isHorizontal=!0})),!0)}randomizeShipLocations(){if(this.#l)return!1;const e=new E;return this.#t.forEach(((n,t)=>{let{ship:a,location:r,isHorizontal:i}=n,o=!1;for(;!o;)r=[Math.floor(10*Math.random()),Math.floor(10*Math.random())],i=Boolean(Math.floor(Math.random()+.5)),o=e.placeShip(a,r,i);this.#t[t].location=r,this.#t[t].isHorizontal=i})),!0}placeShipsOnBoard(){return!!this.#d()&&(this.#t.forEach((e=>{let{ship:n,location:t,isHorizontal:a}=e;this.#n.placeShip(n,t,a)})),this.#l=!0,!0)}receiveAttack(e){return this.#n.receiveAttack(e)}allShipsSunk(){return this.#n.allShipsSunk()}}class y extends C{#p;#m=null;#h=null;#A=null;#u=null;constructor(e){super(e),this.randomizeShipLocations(),this.placeShipsOnBoard(),this.#E()}#E(){const e=[];for(let n=0;n<10;n++)for(let t=0;t<10;t++)e.push([n,t]);this.#p=e}#g(){const e=[];[[1,0],[-1,0],[0,1],[0,-1]].forEach((n=>{let[t,a]=n;const[r,i]=this.#h;this.#p.find((e=>e[0]===r+t&&e[1]===i+a))&&e.push([t,a])}));let n=e.length;for(;0!=n;){let t=Math.floor(Math.random()*n);n--,[e[n],e[t]]=[e[t],e[n]]}this.#u=e}getAttackLocation(){let e=null;return e=this.#h&&this.#u.length?this.#p.findIndex((e=>{let[n,t]=e;const a=this.#A[0]+this.#u[0][0],r=this.#A[1]+this.#u[0][1];return n===a&&t===r})):Math.floor(Math.random()*this.#p.length),this.#m=this.#p.splice(e,1)[0],this.#m}handleAttackResponse(e){switch(e){case"sunk":this.#h=null,this.#u=null,this.#A=this.#m;break;case"hit":this.#h=this.#h||this.#m,this.#A=this.#m,this.#u||this.#g();break;case"miss":this.#h&&(this.#A=this.#h,this.#u.shift())}}}class b{#C;#y;#b;#f;#B;constructor(e,n,t){this.#B=t,this.#v(e,n)}#v(e,n){switch(this.#B){case"pvp":case"online":this.#C=new C(e),this.#y=new C(n);break;case"pvb":this.#C=new C(e),this.#y=new y(n);break;case"bots":this.#C=new y(e),this.#y=new y(n)}this.#b=this.#C,this.#f=!1}get gametype(){return this.#B}get player1(){return this.#C}get player2(){return this.#y}get attackingPlayer(){return this.#b}get receivingPlayer(){return this.#b==this.#C?this.#y:this.#C}#x(){this.#b=this.receivingPlayer}#w(e){const n=this.receivingPlayer.receiveAttack(e);if(null===n||this.#f)return null;this.#b instanceof y&&this.#b.handleAttackResponse(n);const t=`${this.#b.name} attacked [${e[0]},  ${e[1]}] and it was a ${"miss"===n?"miss":"hit"}${"hit"===n?"!":"."}`;return this.receivingPlayer.allShipsSunk()&&(this.#f=!0),this.#x(),t}async start(e,n){let t=null;for(;!this.#f;){let a;this.#b instanceof y?(a=this.#b.getAttackLocation(),await new Promise((e=>setTimeout(e,2e3)))):a=await n(),t=this.#w(a),null!==t&&e(t)}return`Game Over.  ${this.receivingPlayer.name} Wins!`}reset(){this.#v(this.#C.name,this.#y.name)}}new class{#S;constructor(){this.#v()}#v(){const e=document.querySelector("body"),n=document.createElement("header");n.textContent="Battleship",e.appendChild(n);const t=document.createElement("main");e.appendChild(t),this.#k()}#k(){const e=document.querySelector("main"),n=document.createElement("div");n.className="gamemode";const t=document.createElement("h2");t.textContent="Select a Gamemode",n.appendChild(t);const a=document.createElement("button");a.innerText="Bot vs Bot",a.addEventListener("click",(()=>this.#N())),n.appendChild(a);const r=document.createElement("button");r.innerText="Player vs Bot",r.addEventListener("click",(()=>this.#P())),n.appendChild(r);const i=document.createElement("button");i.innerText="Player vs Player (local)",i.addEventListener("click",(()=>this.#L())),n.appendChild(i);const o=document.createElement("button");o.id="multiPlayerOnlineBtn",o.innerText="Player vs Player (online)",o.disabled=!0,o.addEventListener("click",(()=>this.#z())),n.appendChild(o),e.innerHTML="",e.appendChild(n)}#N(){const e=document.querySelector("main"),n=document.createElement("form");n.className="startForm",n.id="botMatchForm";const t=document.createElement("div"),a=document.createElement("label");a.htmlFor="bot1Name",a.innerText="Bot 1 Name: ",t.appendChild(a);const r=document.createElement("input");r.type="text",r.name="bot1Name",r.id="bot1Name",r.placeholder="Computer 1",t.appendChild(r);const i=document.createElement("div"),o=document.createElement("label");o.htmlFor="bot2Name",o.innerText="Bot 2 Name: ",i.appendChild(o);const s=document.createElement("input");s.type="text",s.name="bot2Name",s.id="bot2Name",s.placeholder="Computer 2",i.appendChild(s);const l=document.createElement("div");l.className="formBtns";const c=document.createElement("button");c.className="startBtn",c.type="submit",c.innerText="Start Game",c.addEventListener("click",(e=>{e.preventDefault();const n=r.value||"Computer 1",t=s.value||"Computer 2";this.#S=new b(n,t,"bots"),this.#T()})),l.appendChild(c);const d=document.createElement("button");d.className="backBtn",d.type="button",d.innerText="Cancel",d.addEventListener("click",(()=>{this.#k()})),l.appendChild(d),n.appendChild(t),n.appendChild(i),n.appendChild(l),e.innerHTML="",e.appendChild(n)}#P(){const e=document.querySelector("main"),n=document.createElement("form");n.className="startForm",n.id="singlePlayerForm";const t=document.createElement("div"),a=document.createElement("label");a.htmlFor="player1Name",a.innerText="Player Name: ",t.appendChild(a);const r=document.createElement("input");r.type="text",r.name="player1Name",r.id="player1Name",r.placeholder="Player 1",t.appendChild(r);const i=document.createElement("div");i.className="formBtns";const o=document.createElement("button");o.className="startBtn",o.type="submit",o.innerText="Start Game",o.addEventListener("click",(e=>{e.preventDefault();const n=r.value||"Player 1";this.#S=new b(n,"Computer","pvb"),this.#T()})),i.appendChild(o);const s=document.createElement("button");s.className="backBtn",s.type="button",s.innerText="Cancel",s.addEventListener("click",(()=>{this.#k()})),i.appendChild(s),n.appendChild(t),n.appendChild(i),e.innerHTML="",e.appendChild(n)}#L(){const e=document.querySelector("main"),n=document.createElement("form");n.className="startForm",n.id="multiPlayerLocalForm";const t=document.createElement("div"),a=document.createElement("label");a.htmlFor="player1Name",a.innerText="Player 1 Name: ",t.appendChild(a);const r=document.createElement("input");r.type="text",r.name="player1Name",r.id="player1Name",r.placeholder="Player 1",t.appendChild(r);const i=document.createElement("div"),o=document.createElement("label");o.htmlFor="player2Name",o.innerText="Player 2 Name: ",i.appendChild(o);const s=document.createElement("input");s.type="text",s.name="player2Name",s.id="player2Name",s.placeholder="Player 2",i.appendChild(s);const l=document.createElement("div");l.className="formBtns";const c=document.createElement("button");c.className="startBtn",c.type="submit",c.innerText="Start Game",c.addEventListener("click",(e=>{e.preventDefault();const n=r.value||"Player 1",t=s.value||"Player 2";this.#S=new b(n,t,"pvp"),this.#T()})),l.appendChild(c);const d=document.createElement("button");d.className="backBtn",d.type="button",d.innerText="Cancel",d.addEventListener("click",(()=>{this.#k()})),l.appendChild(d),n.appendChild(t),n.appendChild(i),n.appendChild(l),e.innerHTML="",e.appendChild(n)}#z(){const e=document.querySelector("main"),n=document.createElement("form");n.className="startForm",n.id="multiPlayerOnlineForm";const t=document.createElement("div"),a=document.createElement("label");a.htmlFor="player1Name",a.innerText="Player Name: ",t.appendChild(a);const r=document.createElement("input");r.type="text",r.name="player1Name",r.id="player1Name",r.placeholder="Player 1",t.appendChild(r);const i=document.createElement("div");i.className="formBtns";const o=document.createElement("button");o.className="startBtn",o.type="submit",o.innerText="Find Opponent",o.addEventListener("click",(e=>{e.preventDefault();const n=r.value||"Player 1";this.#S=new b(n,null,"online"),this.#T()})),i.appendChild(o);const s=document.createElement("button");s.className="backBtn",s.type="button",s.innerText="Cancel",s.addEventListener("click",(()=>{this.#k()})),i.appendChild(s),n.appendChild(t),n.appendChild(i),e.innerHTML="",e.appendChild(n)}#H(e){let n=!1;const t=()=>{this.#M(e,i,!1,!1)},a=()=>{p.innerHTML="",e.ships.forEach((r=>{if(r.location)return;const i=document.createElement("div");i.className="dragableShip",n&&i.classList.add("vertical"),i.addEventListener("mousedown",(o=>{const{x:s,y:c}=i.getBoundingClientRect(),d=o.clientX-s,p=o.clientY-c;i.style.position="absolute",i.style.left=o.pageX-d+"px",i.style.top=o.pageY-p+"px";const m=e=>{i.style.left=e.pageX-d+"px",i.style.top=e.pageY-p+"px"},h=e=>{"r"===e.key&&(n=!n,n?i.classList.add("vertical"):i.classList.remove("vertical"))},A=()=>{const{width:o,height:s,bottom:c,left:d}=i.getBoundingClientRect(),p=n?o/2:s/2,u=d+p,E=c-p;let g=null;for(let e=0;e<l.childNodes.length;e++){const n=l.childNodes[e],{top:t,bottom:a,left:r,right:i}=n.getBoundingClientRect(),o=1;if(u>=r-o&&u<=i+o&&E>=t-o&&E<=a+o&&n.dataset.row){g=[Number(n.dataset.row),Number(n.dataset.column)];break}}e.setShipLocation(r.ship.name,g,!n),n=!1,i.remove(),t(),a(),window.removeEventListener("keydown",h),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",A)};window.addEventListener("keydown",h),window.addEventListener("mousemove",m),window.addEventListener("mouseup",A)}));for(let e=0;e<r.ship.shipLength;e++){const e=document.createElement("div");e.className="dragableShipSpace",i.appendChild(e)}p.appendChild(i)}))},r=document.querySelector("main"),i=document.createElement("div");i.className="shipPreview";const o=document.createElement("h2");o.innerText=e.name,i.appendChild(o);const s=document.createElement("h3");s.innerText="Place Your Ships",i.appendChild(s);const l=document.createElement("div");l.className="board",i.appendChild(l);const c=document.createElement("h4");c.textContent="Drag and drop ships onto board.",i.appendChild(c);const d=document.createElement("p");d.textContent="(Press 'R' while dragging to rotate)",i.appendChild(d);const p=document.createElement("div");p.className="shipsContainer",i.appendChild(p);const m=document.createElement("div");m.className="shipPlacementBtns";const h=document.createElement("button");h.type="button",h.innerText="Randomize Ships",h.addEventListener("click",(()=>{e.randomizeShipLocations(),t(),a()})),m.appendChild(h);const A=document.createElement("button");A.type="button",A.innerText="Clear Board",A.addEventListener("click",(()=>{e.clearShipLocations(),t(),a()})),m.appendChild(A),i.appendChild(m);const u=document.createElement("div");u.className="shipPlacementBtns";const E=document.createElement("button");E.type="submit",E.innerText="Confirm Ship Placement",E.addEventListener("click",(n=>{n.preventDefault(),e.placeShipsOnBoard()&&this.#T()})),u.appendChild(E),i.appendChild(u),r.innerHTML="",r.appendChild(i),t(),a()}#G(){const e=document.querySelector("main"),n=document.createElement("div");n.className="game";const t=document.createElement("div");t.className="playerContainer",t.id="opponentContainer";const a=document.createElement("h2");a.className="playerName",t.appendChild(a);const r=document.createElement("div");r.className="boardShips",t.appendChild(r);const i=document.createElement("div");i.className="board",t.appendChild(i),n.appendChild(t);const o=document.createElement("p");o.className="lastAttack",n.appendChild(o);const s=document.createElement("p");s.className="currentTurn",n.appendChild(s);const l=document.createElement("div");l.className="playerContainer",l.id="playerContainer";const c=document.createElement("div");c.className="board",l.appendChild(c);const d=document.createElement("div");d.className="boardShips",l.appendChild(d);const p=document.createElement("h2");p.className="playerName",l.appendChild(p),n.appendChild(l),e.innerHTML="",e.appendChild(n)}#F(e){const n=document.querySelector(".currentTurn");n.innerText=e;const t=document.createElement("div");t.className="gameOverMenu";const a=document.createElement("button");a.className="endGameBtn",a.innerText="Rematch",a.addEventListener("click",(()=>this.#D())),t.appendChild(a);const r=document.createElement("button");r.className="endGameBtn",r.innerText="New Game",r.addEventListener("click",(()=>this.#k())),t.appendChild(r),n.insertAdjacentElement("afterend",t)}#q(e){const n=document.querySelector("main"),t=document.createElement("div");t.className="privacyScreen";const a=document.createElement("h2");a.textContent=`It's ${this.#S.attackingPlayer.name}'s turn.`,t.appendChild(a);const r=document.createElement("p");r.textContent=`Make sure ${this.#S.receivingPlayer.name} isn't looking and press button to continue.`,t.appendChild(r);const i=document.createElement("button");i.type="button",i.innerText="Show Game",i.addEventListener("click",(()=>{this.#G();const n=document.getElementById("opponentContainer"),t=document.getElementById("playerContainer"),a=document.querySelector(".lastAttack"),r=document.querySelector(".currentTurn"),i=this.#S.attackingPlayer,o=this.#S.receivingPlayer;a.innerText=e,r.innerText=`It's ${i.name}'s turn.`,n.querySelector(".playerName").textContent=o.name,t.querySelector(".playerName").textContent=i.name,this.#M(o,n,!0,!0),this.#M(i,t,!1,!1),this.#O(o,n),this.#O(i,t)})),t.appendChild(i),n.innerHTML="",n.appendChild(t)}#j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=document.getElementById("opponentContainer"),t=document.getElementById("playerContainer"),a=document.querySelector(".lastAttack"),r=document.querySelector(".currentTurn");if(a.innerText=e,r.innerText=`It's ${this.#S.attackingPlayer.name}'s turn.`,n.querySelector(".playerName").textContent=this.#S.player2.name,t.querySelector(".playerName").textContent=this.#S.player1.name,this.#O(this.#S.player2,n),this.#O(this.#S.player1,t),"bots"===this.#S.gametype)this.#M(this.#S.player2,n,!1,!1),this.#M(this.#S.player1,t,!1,!1);else if("pvb"===this.#S.gametype){const e=this.#S.attackingPlayer==this.#S.player1;this.#M(this.#S.player2,n,!0,e),this.#M(this.#S.player1,t,!1,!1)}else"pvp"===this.#S.gametype&&(this.#O(this.#S.attackingPlayer,n),this.#M(this.#S.attackingPlayer,n,!0,!1),setTimeout((()=>{this.#q(e)}),2e3))}#M(e,n,t,a){const r=n.querySelector(".board");r.innerHTML="";for(let n=0;n<11;n++)for(let i=0;i<11;i++){const o=9-n,s=i-1,l=document.createElement("div");if(0===i&&10===n)r.appendChild(l);else if(0===i)l.className="boardLabel",l.textContent=o,r.appendChild(l);else if(10===n)l.className="boardLabel",l.textContent=s,r.appendChild(l);else{const n=e.board[10*o+s];if(t&&a&&!n.isHit){const e=document.createElement("button");e.dataset.row=o,e.dataset.column=s,e.className="boardBtn",r.appendChild(e)}else l.className="boardSpace",l.dataset.row=o,l.dataset.column=s,(n.ship&&!t||n.ship&&n.isHit)&&l.classList.add("ship"),n.isHit&&l.classList.add("hit"),r.appendChild(l)}}}#O(e,n){const t=n.querySelector(".boardShips");t.innerHTML="";const a=document.createElement("h3");a.textContent="Remaining Ships",t.appendChild(a);const r=document.createElement("div");r.className="boardShipNames",e.ships.forEach((e=>{let{ship:n}=e;if(n.isSunk())return;const t=document.createElement("p");t.innerText=`${n.name}(${n.shipLength})`,r.appendChild(t)})),t.appendChild(r)}#D(){this.#S.reset(),this.#T()}#T(){if(!this.#S.player1.shipsConfirmed)return void this.#H(this.#S.player1);if(!this.#S.player2.shipsConfirmed)return void this.#H(this.#S.player2);const e="Welcome Gamers!";"pvp"===this.#S.gametype?this.#q(e):(this.#G(),this.#j(e)),this.#S.start(this.#j.bind(this),this.#I).then((e=>this.#F(e)))}#I(){return new Promise((e=>{const n=t=>{if("boardBtn"===t.target.className){const a=Number(t.target.dataset.row),r=Number(t.target.dataset.column);e([a,r]),window.removeEventListener("click",n)}};window.addEventListener("click",n)}))}}})()})();
//# sourceMappingURL=bundle.js.map